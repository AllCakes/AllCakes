{% extends 'base.html' %}
{% block content %}
{% load static %}

<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{% static 'css/storeDetail.css' %}" type="text/css">
    <script type="text/javascript" src="/static/js/marketLocation.js"></script>
    <script src="//developers.kakao.com/sdk/js/kakao.min.js"></script>

    <title>Cake Store Detail</title>
</head>


<body id="mainBody">
    <!-- ëŒ€í‘œì´ë¯¸ì§€, ê°€ê²Œì´ë¦„, ìœ„ì¹˜, ì—°ë½ì²˜, ì„¤ëª…, ì¼€ìŒì´ë¯¸ì§€ -->


    <div class="store-detail">
        <img src="{{post.store_image.url}}" width="210" , height="210">
        <div class="store-text">
            <p class="store-name">{{post.name}}</p>
            <b class="store-location">ğŸ“ ìœ„ì¹˜ : {{post.location}} </b><br>
            <span class="store-contact">ğŸ“ ì—°ë½ì²˜ : {{post.contact}}</span>
            <section class="store-des">[ {{post.text}} ]</section>
        </div>


        <!-- {% if post.pub_date %}
            {{post.pub_date}}
            {% endif %}        FE: ê²Œì‹œì¼ìëŠ” ì¼ë‹¨ ì£¼ì„ì²˜ë¦¬-->
    </div>



    <!-- ì´í•˜ ìˆ˜ì • ë° ì‚­ì œëŠ” ì‘ì„±í•œ ìœ ì €ë§Œì´ ìˆ˜ì • ë° ì‚­ì œí•  ìˆ˜ ìˆë„ë¡ ìˆ˜ì •í•  ì˜ˆì • -->
    <!--<a href="{% url 'edit' pk=post.pk %}">ì •ë³´ ìˆ˜ì •</a>
    <a href="{% url 'delete' pk=post.pk %}">ì‚­ì œ</a>
    <br><br><br><br>-->




    <div class="option-box">
        <div class="buttons">
            <input type="button" onclick="ì—´ê¸°(0)" value="ë©” ë‰´"></input>
            <!--FE: buttonì„ inputìœ¼ë¡œ ë³€ê²½í•¨!-->
            <input type="button" onclick="ì—´ê¸°(1)" value="ì • ë³´"></input>
            <input type="button" onclick="ì—´ê¸°(2)" value="ë¦¬ ë·°"></input>
        </div>

        <!-- ì „ì²´ ì¼€ì´í¬ ë¦¬ìŠ¤íŠ¸ -->
        <div class="items">
            <!--ë²„íŠ¼ ëˆ„ë¥´ë©´ ë‚˜ì˜¤ëŠ” ì„¤ëª…ê¹Œì§€ í•˜ë‚˜ì˜ divì— ë¬¶ê¸°-->
            <br><br>
            <p class="items-header">ğŸ“ "{{post.name}}"ì˜ ëª¨ë“  ì¼€ì´í¬</p>
            <hr class="underToday">

            {% for cake in cakelist %}
            
            <div class="cake-item">
                {% for image in cake.cakeimage_set.all %}
                <div class="cake-img">
                    <img src="{{image.cake_image.url}}" width="240px" height="237px"><br>
                    <!--FE : ì‚¬ì§„ ìˆ˜ì •ì€ ì¼ë‹¨ ì£¼ì„!-->
                    <!--<a href="{% url 'image_edit' pk=cake.pk  %}">ì‚¬ì§„ ìˆ˜ì •</a><br>-->
                    
                </div>
                

                {% endfor %}
                <div class="cake-body">
                    <p class="cake-name">{{cake.cakename}}</p>
                    <hr>
                    <p class="cake-detail">{{cake.body}}</p>
                    <a href="{% url 'order' pk=cake.pk  %}">í•´ë‹¹ ì¼€ì´í¬ ì£¼ë¬¸</a>
                    <!--FE: ì¼€ì´í¬ ìì„¸íˆ ë³´ê¸° ë²„íŠ¼ë„ ìˆìœ¼ë©´ ì¢‹ì„ ë“¯-->
                </div>
                </a><br>

            </div>


                {% endfor %}
            


            
        <!-- FE: ì£¼ì„ì²˜ë¦¬í•¨
        <a href="{% url 'newcake' pk=post.pk %}">
                        <h3>ìƒˆ ì¼€ì´í¬ ë“±ë¡</h3>
                    </a>
            -->
            
        </div>


<!--ë‘ ë²ˆì§¸ ë²„íŠ¼, ì •ë³´ ëˆ„ë¥´ë©´ ë‚˜ì˜¤ëŠ” í™”ë©´-->

        <div class="items">
            
            <div class="info-box1">
                <p class="store-address"> â–¶ï¸ ì£¼ì†Œ : ì£¼ì†Œ(ìƒì„¸ì£¼ì†Œ) ë°›ì•„ì™€ì•¼ í•¨</p>
                <p class="store-bhour"> â–¶ï¸ ì˜ì—… ì‹œê°„ : ì˜ì—… ì‹œê°„ ë°›ì•„ì™€ì•¼ í•¨</p>
                <p class="store-contact"> â–¶ï¸ ì—°ë½ì²˜ : {{post.contact}}</p>
            </div>

            <p class="items-header">ğŸ“ ê³µì§€ì‚¬í•­</p>
            <hr class="underToday">
            <div class="info-box1">
                <p class="store-main-info"> â–¶ï¸ ê³µì§€ì‚¬í•­ ë°›ì„ ìˆ˜ ìˆë‹¤ë©´ ë°›ì•„ì˜¤ê¸°! </p>
            </div>

            <!--FE: ì§€ë„ ìƒê°ë³´ë‹¤ ë§ì´ ê¹¨ì ¸ì„œ í•œ ë²ˆ ë´ì•¼í•  ë“¯!-->

            <p class="items-header">ğŸ“ ì§€ë„</p>
            <hr class="underToday">
            <div class="info-box1">
                
                <p class="mapsize">
                    <div id="map" style="width:100%;height:350px;"></div>
                </p>

                <script type="text/javascript"
                    src="//dapi.kakao.com/v2/maps/sdk.js?appkey=72346395b1c307cc36bb8337abc1d059"></script>
                <script>
                    var mapContainer = document.getElementById('map'), // ì§€ë„ë¥¼ í‘œì‹œí•  div 
                        mapOption = {
                            center: new kakao.maps.LatLng(37.5573264, 126.9474058), // ì§€ë„ì˜ ì¤‘ì‹¬ì¢Œí‘œ
                            level: 3 // ì§€ë„ì˜ í™•ëŒ€ ë ˆë²¨
                        };

                    var map = new kakao.maps.Map(mapContainer, mapOption);

                    // ë§ˆì»¤ê°€ í‘œì‹œë  ìœ„ì¹˜ì…ë‹ˆë‹¤ 
                    var markerPosition = new kakao.maps.LatLng(37.5573264, 126.9474058);

                    // ë§ˆì»¤ë¥¼ ìƒì„±í•©ë‹ˆë‹¤
                    var marker = new kakao.maps.Marker({
                        position: markerPosition
                    });

                    // ë§ˆì»¤ê°€ ì§€ë„ ìœ„ì— í‘œì‹œë˜ë„ë¡ ì„¤ì •í•©ë‹ˆë‹¤
                    marker.setMap(map);

                    var iwContent =
                        '<div style="padding:5px;">ë½€ë“¤ë Œ ì¼€ì´í¬<br><a href="https://map.kakao.com/link/map/ë½€ë“¤ë Œì¼€ì´í¬,37.5573264,126.9474058"  target="_blank">í°ì§€ë„ë³´ê¸°</a> <a href="https://map.kakao.com/link/to/Hello World!,37.5573264,126.9474058" target="_blank">ê¸¸ì°¾ê¸°</a></div>', // ì¸í¬ìœˆë„ìš°ì— í‘œì¶œë  ë‚´ìš©ìœ¼ë¡œ HTML ë¬¸ìì—´ì´ë‚˜ document elementê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤
                        iwPosition = new kakao.maps.LatLng(37.5573264, 126.9474058); //ì¸í¬ìœˆë„ìš° í‘œì‹œ ìœ„ì¹˜ì…ë‹ˆë‹¤

                    // ì¸í¬ìœˆë„ìš°ë¥¼ ìƒì„±í•©ë‹ˆë‹¤
                    var infowindow = new kakao.maps.InfoWindow({
                        position: iwPosition,
                        content: iwContent
                    });

                    // ë§ˆì»¤ ìœ„ì— ì¸í¬ìœˆë„ìš°ë¥¼ í‘œì‹œí•©ë‹ˆë‹¤. ë‘ë²ˆì§¸ íŒŒë¼ë¯¸í„°ì¸ markerë¥¼ ë„£ì–´ì£¼ì§€ ì•Šìœ¼ë©´ ì§€ë„ ìœ„ì— í‘œì‹œë©ë‹ˆë‹¤
                    infowindow.open(map, marker);
                </script>
            </div>

        </div>






        <!-- ë¦¬ë·°  -->
        <!-- FE: ë‚˜ì¤‘ì—ëŠ” ë¦¬ë·° ì“´ ì‚¬ëŒ ì•„ì´ë””ë„ ë°›ì•„ì˜¬ ìˆ˜ ìˆê²Œ!  -->
        <!-- FE: ë³„ì  ë†’ì€ ìˆœ / ë‚®ì€ ìˆœ ì ìš©!  -->
        <div class="items">
            
            {% for review in reviewlist %}         
            <div class="store-review">
                <p>(ì¼€ì´í¬ ì¢…ë¥˜!!) {{review.body}}</p>
                <p>{{review.grade}}</p>
            </div>


            {% endfor %}
        </div>








        <script>
            function ì—´ê¸°(num) {
                document.getElementsByClassName('items')[num].style.display = 'block';
                document.getElementsByClassName('items')[(num + 1) % 3].style.display = 'none';
                document.getElementsByClassName('items')[(num + 2) % 3].style.display = 'none';
            }
        </script>


    </div>

   <!-- ë¦¬ë·° ê´€ë ¨ í˜ì´ì§€ -->
   <div class ="items">
    <br><br>
    <h3>ë¦¬ë·°</h3>
    {% for review in reviewlist %}
        id : {{review.user.username}}<br>
        ë¦¬ë·°ì¼ì‹œ : {{review.pub_date}}<br>
        ê°€ê²Œ ì´ë¦„ : {{review.referred_store.name}}<br>
        ì£¼ë¬¸ ì¼€ì´í¬ : {{review.referred_cake.cakename}}<br>
        ë¦¬ë·° ë‚´ìš© : {{review.comment}}<br>
        <span class="fa fa-star fa-2x checked"></span>
        <span class="fa fa-star fa-2x {% if review.rate > 1 %} checked {% endif %}"></span>
        <span class="fa fa-star fa-2x {% if review.rate > 2 %} checked {% endif %}"></span>
        <span class="fa fa-star fa-2x {% if review.rate > 3 %} checked {% endif %}"></span>
        <span class="fa fa-star fa-2x {% if review.rate > 4 %} checked {% endif %}"></span>
        <br><br>
    {% endfor %}
    <br><br>
</div>


    <footer>
        <div class="footerContent1">
            <div class="about">
                <p class="aboutTitle">About</p>
                <hr class="underline">

                <p class="aboutContent">ì´ ì–´ë‘ ì„ ë¹¨ê°„ ì½”ë¡œ ë¹„ì¶°ì¤„ë˜
                    ì–´ë””ì„œë¶€í„° ì˜ëª»ëœ ê±´ì§€
                    ì˜¨ ì„¸ìƒì´ all black black black
                    ì§€ê¸ˆ ë„ˆì™€ ë‚œ
                    ë‹¤ ê¹¨ì ¸ë²„ë¦° 1000í”¼ìŠ¤
                    lego block block block
                    ì°¨ë¼ë¦¬ ë” ì–´ë‘ì›Œì§€ë©´ ì¢‹ê² ì–´
                    ì´ ì„¸ìƒì— ìŠ¤ìœ„ì¹˜ê°€ ìˆë‹¤ë©´
                    êº¼ë²„ë¦´ê±°ì•¼
                    ê·¸ë¦¬ê³  ë„ í–¥í•œ ë…¸ë  ë¶€ë¥´ê² ì–´</p>

            </div>

            <div class="categories">
                <p class="categoryTitle">Categories</p>
                <hr class="underline">

                <li>
                    <a href="#" target="_blank">
                        <ul>HOME</ul>
                    </a>
                    <a href="#" target="_blank">
                        <ul>ABOUT US</ul>
                    </a>
                    <a href="#" target="_blank">
                        <ul>CONTACT</ul>
                    </a>
                    <a href="#" target="_blank">
                        <ul>JOIN</ul>
                    </a>

                </li>
            </div>

            <div class="links">
                <p class="linkTitle">Links</p>
                <hr class="underline">

                <li>
                    <a href="#" target="_blank">
                        <ul>CONTRIBUTE</ul>
                    </a>
                    <a href="#" target="_blank">
                        <ul a href="#">ABOUT US</ul>
                    </a>
                    <a href="#" target="_blank">
                        <ul a href="#">CONTACT</ul>
                    </a>
                    <a href="#" target="_blank">
                        <ul a href="#">PRIVACY POLICY</ul>
                    </a>
                </li>
            </div>
        </div>
        <hr class="underline2">


        <div class="footerContent2">
            <p>Copyright &copy; by ALLCAKES All Right Reserved </p>
        </div>
    </footer>
</body>

</html>
{% endblock %}